<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>7-Language Translator (3 Pages)</title>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>


<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,Arial}


/* ===== THEMES ===== */
body{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#14142b,#1f1f3d);
  color:#fff;
  transition:.4s;
}
body.light{background:#f0f2f5;color:#111}
body.green{background:linear-gradient(135deg,#0f3d2e,#145a32)}
body.purple{background:linear-gradient(135deg,#2a003d,#4a007a)}


.container{
  width:100%;
  max-width:520px;
  background:#0f0f22;
  padding:22px;
  border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,.6);
  transition:.3s;
}
body.light .container{background:#fff}
body.green .container{background:#0b2e22}
body.purple .container{background:#220033}


h2{text-align:center;margin-bottom:10px}


textarea,select,button{
  width:100%;
  margin-top:8px;
  padding:12px;
  border-radius:8px;
  border:none;
  font-size:14px;
}
textarea{resize:vertical;min-height:120px}


select{
  background:#1c1c3a;
  color:#fff;
}
body.light select{background:#e0e0e0;color:#111}


button{
  background:#5b7cff;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}
button:active{transform:scale(.97)}


.output{
  background:#f5f7fb;
  color:#111;
  border:1px solid #d0d5e5;
  cursor:pointer;
}


.controls{
  display:flex;
  gap:6px;
  margin-top:6px;
}
.controls button{flex:1;font-size:12px;padding:10px}


.history{
  margin-top:12px;
  max-height:180px;
  overflow:auto;
  background:rgba(0,0,0,.2);
  padding:8px;
  border-radius:8px;
  font-size:12px;
}
body.light .history{background:#eee}


.history-item{
  margin-bottom:6px;
  padding:6px;
  background:rgba(255,255,255,.1);
  border-radius:6px;
}


.theme-toggle{
  display:flex;
  gap:6px;
  margin-top:10px;
}
.theme-toggle button{
  flex:1;
  font-size:12px;
  background:#ff9800;
}


.status{
  text-align:center;
  font-size:12px;
  margin-top:6px;
  opacity:.85;
}
footer{
  text-align:center;
  font-size:11px;
  margin-top:6px;
  opacity:.6;
}
</style>
</head>


<body>


<div class="container">
<h2>üåç 7-Language Translator (3 Pages)</h2>


<textarea id="inputText" placeholder="Paste up to 3 pages (‚âà 6000 characters)"></textarea>


<select id="toLang">
<option value="en">English</option>
<option value="fr">French</option>
<option value="es">Spanish</option>
<option value="de">German</option>
<option value="yo">Yoruba</option>
<option value="ig">Igbo</option>
<option value="ha">Hausa</option>
</select>


<div class="controls">
<button id="micBtn">üéß Mic</button>
<button onclick="translateText()">üîÑ Translate</button>
</div>


<textarea id="outputText" class="output" placeholder="Translation‚Ä¶" readonly></textarea>


<div class="status" id="status">Ready</div>


<div class="theme-toggle">
<button onclick="setTheme('dark')">üåë Dark</button>
<button onclick="setTheme('green')">üíö Green</button>
<button onclick="setTheme('purple')">üíú Purple</button>
<button onclick="setTheme('light')">‚òÄ Light</button>
</div>


<div class="history" id="history"></div>


<footer>Heuristics info tech‚Ä¢ 3-Page Translation ‚Ä¢ Supercalifragilisticexpialidocious version</footer>
</div>


<script>
gsap.from(".container",{scale:.9,opacity:0,duration:1,ease:"elastic.out(1,.6)"})


const inputText=document.getElementById("inputText")
const outputText=document.getElementById("outputText")
const status=document.getElementById("status")
const historyBox=document.getElementById("history")
const micBtn=document.getElementById("micBtn")


/* ===== THEME SYSTEM ===== */
function setTheme(theme){
  document.body.classList.remove("light","green","purple")
  if(theme!=="dark") document.body.classList.add(theme)
  localStorage.setItem("theme",theme)
}
setTheme(localStorage.getItem("theme")||"dark")


/* ===== VOICE INPUT ===== */
if("webkitSpeechRecognition" in window){
  micBtn.onclick=()=>{
    const r=new webkitSpeechRecognition()
    r.lang="en-US"
    r.onstart=()=>status.textContent="üéß Listening‚Ä¶"
    r.onresult=e=>{
      inputText.value=e.results[0][0].transcript
      status.textContent="‚úÖ Voice captured"
    }
    r.onerror=()=>status.textContent="‚ùå Voice error"
    r.start()
  }
}else{
  micBtn.disabled=true
}


/* ===== LANGUAGE DETECT ===== */
function detectLanguage(t){
  if(/[√†√¢√ß√©√®√™√´√Æ√Ø√¥√ª√π√º√ø≈ì]/i.test(t)) return "fr"
  if(/[√°√©√≠√≥√∫√±]/i.test(t)) return "es"
  if(/[√ü√§√∂√º]/i.test(t)) return "de"
  if(/[·∫π·ªç·π£]/i.test(t)) return "yo"
  if(/[·ª•·ªç]/i.test(t)) return "ig"
  if(/[…ó…ì∆ô]/i.test(t)) return "ha"
  return "en"
}


/* ===== SPLIT INTO SAFE CHUNKS ===== */
function splitText(text,max=450){
  const parts=[]
  let buf=""
  text.split(" ").forEach(w=>{
    if((buf+w).length>max){
      parts.push(buf)
      buf=w+" "
    }else{
      buf+=w+" "
    }
  })
  if(buf) parts.push(buf)
  return parts
}


/* ===== TRANSLATION (3 PAGES) ===== */
async function translateText(){
  const text=inputText.value.trim()
  if(!text){status.textContent="‚ö† Enter text";return}


  if(text.length>6000){
    status.textContent="‚ùå Max 3 pages only"
    return
  }


  const to=document.getElementById("toLang").value
  const from=detectLanguage(text)
  const chunks=splitText(text)


  outputText.value=""
  let finalText=""


  try{
    for(let i=0;i<chunks.length;i++){
      status.textContent=`‚è≥ Translating ${i+1}/${chunks.length}`


      const r=await fetch(
        `https://api.mymemory.translated.net/get?q=${encodeURIComponent(chunks[i])}&langpair=${from}|${to}`
      )
      const d=await r.json()


      if(!d.responseData) throw "API error"


      finalText+=d.responseData.translatedText+" "
      await new Promise(res=>setTimeout(res,850))
    }


    outputText.value=finalText.trim()
    status.textContent="‚úÖ 3-page translation complete"
    saveHistory(text,finalText,to)
    gsap.from(outputText,{opacity:0,y:12,duration:.4})


  }catch{
    status.textContent="‚ùå Translation failed"
  }
}


/* ===== HISTORY ===== */
let historyData=JSON.parse(localStorage.getItem("history")||"[]")
function saveHistory(i,o,l){
  historyData.unshift({i,o,l})
  historyData=historyData.slice(0,10)
  localStorage.setItem("history",JSON.stringify(historyData))
  renderHistory()
}
function renderHistory(){
  historyBox.innerHTML=""
  historyData.forEach(h=>{
    const d=document.createElement("div")
    d.className="history-item"
    d.innerHTML=`<b>${h.l}</b><br>${h.i.slice(0,80)}‚Ä¶<br>‚û° ${h.o.slice(0,80)}‚Ä¶`
    historyBox.appendChild(d)
  })
}
renderHistory()


/* ===== COPY ===== */
outputText.onclick=()=>{
  outputText.select()
  document.execCommand("copy")
  status.textContent="üìã Copied!"
}
</script>


</body>
</html>